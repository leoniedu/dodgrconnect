% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_edges_to_graph.R
\name{add_edges_to_graph}
\alias{add_edges_to_graph}
\title{Add direct edges between points and nearest vertices}
\usage{
add_edges_to_graph(
  graph,
  xy,
  wt_profile = NULL,
  wt_profile_file = NULL,
  highway = NULL,
  max_length = Inf,
  replace_component = TRUE
)
}
\arguments{
\item{graph}{A dodgr graph to modify}

\item{xy}{Matrix or data.frame of x-y coordinates of points to add. If points
have an 'id' column, these IDs will be preserved, otherwise new IDs
will be generated.}

\item{wt_profile}{Name of weight profile (e.g., "foot", "bicycle", "motorcar")}

\item{wt_profile_file}{Path to custom weight profile file}

\item{highway}{Type of highway for new edges (must exist in weight profile)}

\item{max_length}{Maximum allowed connection distance in meters (Inf = no limit)}
}
\value{
Modified graph with new bidirectional edges connecting input points
to their nearest vertices. Edge weights and attributes are set according
to the specified weight profile and highway type.
}
\description{
Creates new edges connecting input points directly to their nearest vertices
in the graph. Unlike \code{\link[=add_verts_to_graph]{add_verts_to_graph()}}, this does not split existing edges
but creates direct connections to existing vertices. New edges are created with
specified highway type and weighted according to the weight profile.
}
\details{
This function:
\enumerate{
\item Finds nearest vertices using \code{\link[dodgr:match_points_to_verts]{dodgr::match_points_to_verts()}}
\item Creates direct bidirectional edges to these vertices
\item Applies weights based on specified profile and highway type
\item Preserves existing point IDs or generates new ones if not provided
}

Weight profiles can be:
\itemize{
\item Built-in dodgr profiles ("foot", "bicycle", "motorcar")
\item Custom profiles from file
}
}
\examples{
# Create sample network
net <- weight_streetnet(dodgr_streetnet("hampi india"))

# Add points with residential street connections
pts <- data.frame(x = c(76.4, 76.5), y = c(15.3, 15.4))
net_connected <- add_edges_to_graph(
  net,
  pts,
  wt_profile = "motorcar",
  highway = "residential",
  max_length = 1000  # Max 1km connections
)

# Using custom weight profile
net_custom <- add_edges_to_graph(
  net,
  pts,
  wt_profile_file = "path/to/profile.json",
  highway = "custom_type"
)

}
\seealso{
\code{\link[=add_verts_to_graph]{add_verts_to_graph()}} for adding points by splitting edges
\code{\link[dodgr:match_points_to_verts]{dodgr::match_points_to_verts()}} for vertex matching details
}
